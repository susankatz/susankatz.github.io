<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>D3</title>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <style>
            .big {
                font-size: 100px;
            }
        </style>
    </head>
    <body>
       <h1 id="title">Welcome!</h1>
        
        <svg id="rectCanvas">

        </svg>

        <script>
        
        var animals = [
                {
                    animal: "giraffe",
                    value: 18
                },
                {
                    animal: "elephant",
                    value: 13
                },
                {
                    country: "emu",
                    value: 5
                },
                {
                    animal: "giant squid",
                    value: 41
                },
                {
                    country: "minature horse",
                    value: 2
                }
            ];

            function drawSquares(dataArray) {
                // data binding 
                var squares = d3.select("#rectCanvas")
                .selectAll("rect")
                .data(dataArray, function(currentDataPoint) {
                    console .log(currentDataPoint.animal);
                    return currentDataPoint.animal;
                });
                // update
                squares
                    .transition().duration(1000)
                    .attr("width", function (d) { return d.value * 10; })
                        .attr("height", 48)
                        .attr("y", function (d, i) { return i * 50; })
                        .attr("fill", "white");
                // enter
                squares.enter().append("rect")
                    .attr("height", 100)
                    .attr("y", function(d) {
                        return d.value * 10;
                    })
                    .transition()
                    .duration(2000)
                    .attr("y", function(d) {
                        return d.value;
                    });
                // exit
                squares.exit()
                .transtion().duration(1000)
                .attr("y", 0)
                .attr("fill", "red")
                .remove("rect");
            }

            drawSquares(animals);

        </script>
    </body>
</html>
